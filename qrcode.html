<!DOCTYPE html>
<html lang="en">

<head>
	<title>FreeOTP - QR Code Generator</title>
	<link rel="stylesheet" type="text/css" href="/styles/common.css" media="screen">
	<link rel="stylesheet" type="text/css" href="/styles/qrcode.css" media="screen">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
	<script src="lib/base32.js"></script>
	<script src="lib/qrcode.js"></script>
	<script src="qrcode.js"></script>
	<meta name="viewport" content="width=device-width,initial-scale=1.0">
	<meta charset="UTF-8">
</head>

<body data-bs-theme="dark">
	<header class="bg-body-tertiary border-bottom container-fluid position-fixed">
		<div class="container">
			<nav class="d-flex navbar">
				<div class="container-fluid">
					<a class="navbar-brand" href="">
						<img class="rounded" id="logo" src="/img/freeotp.svg" alt="FreeOTP Logo">
					</a>
				</div>
			</nav>
		</div>
	</header>

	<main>
		<section>
			<div class="container">
				<a class="p-5 d-flex justify-content-center" id="urilink">
					<div id="qrcode">
						<img id="preview" alt="QR Code Preview" src="img/freeotp.svg" onError="onImageError()">
					</div>
				</a>

				<div>
					<div class="pb-4 row">
						<div class="col input-group">
							<span class="input-group-text">Account</span>
							<input class="form-control" id="account" type="text" name="account"
								onInput="onValueChanged()">
						</div>
						<div class="col input-group">
							<span class="input-group-text">Algorithm</span>
							<select class="form-select" id="algorithm" name="algorithm" onChange="onValueChanged()"
								onBlur="onValueChanged()">
								<option value="SHA1">SHA1</option>
								<option value="SHA224">SHA224</option>
								<option value="SHA256" selected="selected">SHA256</option>
								<option value="SHA384">SHA384</option>
								<option value="SHA512">SHA512</option>
							</select>
						</div>
					</div>
					<div class="pb-4 row">
						<div class="col input-group">
							<span class="input-group-text">Secret</span>
							<input class="form-control" id="secret" type="text" name="secret"
								onInput="onValueChanged()">
							<button class="btn btn-primary" id="random" onClick="onRandomClicked()">Random</button>
						</div>
					</div>
					<div class="pb-4 row">
						<div class="col input-group">
							<span class="input-group-text">Issuer (optional)</span>
							<input class="form-control" id="issuer" type="text" name="issuer"
								onInput="onValueChanged()">
						</div>
						<div class="col input-group">
							<span class="input-group-text">Image URL (optional)</span>
							<input class="form-control" id="image" type="text" name="image" onInput="onValueChanged()">
						</div>
					</div>
					<div class="pb-4 row">
						<div class="col input-group">
							<span class="input-group-text">Period</span>
							<select class="form-select" id="period" name="period" onChange="onValueChanged()"
								onBlur="onValueChanged()">
								<option value="15">15 seconds</option>
								<option value="30" selected="selected">30 seconds</option>
								<option value="60">1 minute</option>
								<option value="120">2 minutes</option>
							</select>
						</div>
					</div>
					<!-- <div class="row">
						<div class="col input-group"><span class="input-group-text"></span></div>
					</div> -->
				</div>

				<!-- <table>
					<tr>
						<td class="pb-3 shrink left">
							<div class="form-check">
								<label class="form-check-label" for="counter">Counter</label>
								<input class="form-check-input" id="counter" type="radio" name="type" value="hotp"
									onChange="onValueChanged()" checked="checked">
							</div>
						</td>
					</tr>
					<tr>
						<td class="pb-3 shrink left">
							<div class="form-check">
								<label class="form-check-label" for="timeout">Timeout</label>
								<input class="form-check-input" id="timeout" type="radio" name="type" value="totp"
									onChange="onValueChanged()">
							</div>
						</td>
					</tr>
					<tr>
						<td class="shrink left">
							<label for="digits">Digits</label>
						</td>
						<td>
							<input class="form-range" onInput="update(this, 'digits-display')" name="digits"
								type="range" id="digits" value="6" step="1" max="12" min="6">
						</td>
						<td id="digits-display" class="shrink left">6</td>
						<td id="lock-display" class="shrink left">
							<div class="form-check">
								<label class="form-check-label" class="lock-label" for="lock">Lock</label>
								<input class="form-check-input" id="lock" type="checkbox" name="lock"
									onClick="onLockClicked()">
							</div>
						</td>
					</tr>
				</table> -->
			</div>
		</section>
	</main>

	<footer class="border-top bg-body-secondary p-4 mt-5">
		<div class="container">
			<div class="row">
				<ul class="col-2 list-unstyled">
					<h5>About</h5>
					<li><a href="/privacy.html">Privacy</a></li>
					<li><a href="https://github.com/freeotp/">Source Code</a></li>
				</ul>
				<ul class="col-2 list-unstyled">
					<h5>Tools</h5>
					<li><a href="/qrcode.html">QR Code Generator</a></li>
				</ul>
				<div id="copyright">Â© 2023 <a href="https://www.redhat.com/">Red Hat, Inc.</a></div>
			</div>
		</div>
	</footer>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js"
		integrity="sha384-Rx+T1VzGupg4BHQYs2gCW9It+akI2MM/mndMCy36UVfodzcJcF0GGLxZIzObiEfa"
		crossorigin="anonymous"></script>

	<script>
		var qrcode = new QRCode(document.getElementById("qrcode"), {
			correctLevel: QRCode.CorrectLevel.H,
			text: window.location.href,
			colorLight: "#ffffff",
			colorDark: "#000000"
		});

		function update(from, to) {
			document.getElementById(to).innerHTML = from.value;
			onValueChanged();
		}

		document.getElementById("random").click();
	</script>
</body>

</html>