<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link type="image/x-icon" href="/img/freeotp.svg" rel="shortcut icon">
    <link type="text/css" href="/styles/common.css" rel="stylesheet" media="screen">
    <link type="text/css" href="/styles/qrcode.css" rel="stylesheet" media="screen">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <script src="/lib/base32.js"></script>
    <script src="/lib/qrcode.js"></script>
    <script src="/scripts/qrcode.js"></script>
    <title>FreeOTP >> QR Code Generator</title>
</head>

<body data-bs-theme="dark">
    <header class="bg-body-tertiary border-bottom container-fluid position-fixed">
        <div class="container">
            <nav class="d-flex navbar">
                <div class="container-fluid">
                    <a class="navbar-brand" href="/">
                        <img class="rounded" id="logo" src="/img/freeotp.svg" alt="FreeOTP Logo">
                    </a>
                </div>
            </nav>
        </div>
    </header>

    <main>
        <section class="p-5">
            <div class="container bg-body-tertiary border rounded p-4">
                <div class="bg-body d-flex justify-content-center rounded mb-4 py-4">
                    <a class="bg-white d-flex rounded" id="urilink">
                        <div class="m-2" id="qrcode">
                            <img id="preview" src="img/freeotp.svg" alt="QR Code Preview" onError="onImageError()">
                        </div>
                    </a>
                </div>

                <div>
                    <div class="row mb-3">
                        <div class="col input-group">
                            <span class="input-group-text">Account</span>
                            <input class="form-control" id="account" name="account" type="text"
                                onInput="onValueChanged()">
                        </div>
                        <div class="col input-group">
                            <span class="input-group-text">Algorithm</span>
                            <select class="form-select" id="algorithm" name="algorithm" onChange="onValueChanged()"
                                onBlur="onValueChanged()">
                                <option value="SHA1">SHA1</option>
                                <option value="SHA224">SHA224</option>
                                <option value="SHA256" selected="selected">SHA256</option>
                                <option value="SHA384">SHA384</option>
                                <option value="SHA512">SHA512</option>
                            </select>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col input-group">
                            <span class="input-group-text">Secret</span>
                            <input class="form-control" id="secret" name="secret" type="text"
                                onInput="onValueChanged()">
                            <button class="btn btn-primary" id="random" onClick="onRandomClicked()">Random</button>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col input-group">
                            <span class="input-group-text">Issuer (optional)</span>
                            <input class="form-control" id="issuer" name="issuer" type="text"
                                onInput="onValueChanged()">
                        </div>
                        <div class="col input-group">
                            <span class="input-group-text">Image URL (optional)</span>
                            <input class="form-control" id="image" name="image" type="text" onInput="onValueChanged()">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col input-group">
                            <span class="input-group-text">Period</span>
                            <select class="form-select" id="period" name="period" onChange="onValueChanged()"
                                onBlur="onValueChanged()">
                                <option value="15">15 Seconds</option>
                                <option value="30" selected="selected">30 Seconds</option>
                                <option value="60">60 Seconds</option>
                                <option value="120">120 Seconds</option>
                            </select>
                        </div>
                        <div class="col input-group">
                            <span class="input-group-text">Digits</span>
                            <select class="form-select" id="digits" name="digits">
                                <option value="6">6</option>
                                <option value="8">8</option>
                                <option value="10">10</option>
                                <option value="12">12</option>
                            </select>
                        </div>
                        <div class="col-2 btn-group">
                            <input class="btn-check" id="counter" name="type" type="radio" value="hotp"
                                onChange="onValueChanged()" autocomplete="off">
                            <label class="btn btn-primary" for="counter">HOTP</label>

                            <input class="btn-check" id="timeout" name="type" type="radio" value="totp"
                                onChange="onValueChanged()" autocomplete="off" checked>
                            <label class="btn btn-primary" for="timeout">TOTP</label>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-body-tertiary border-top p-4">
        <div class="container">
            <div class="row">
                <div class="col-2">
                    <h5>About</h5>
                    <ul class="list-unstyled">
                        <li><a href="/privacy.html">Privacy</a></li>
                        <li><a href="https://github.com/freeotp/">Source Code</a></li>
                    </ul>
                </div>
                <div class="col-2">
                    <h5>Tools</h5>
                    <ul class="list-unstyled">
                        <li><a href="/qrcode.html">QR Code Generator</a></li>
                    </ul>
                </div>
                <div id="copyright">Â© 2023 <a href="https://www.redhat.com/">Red Hat, Inc.</a></div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js"
        integrity="sha384-Rx+T1VzGupg4BHQYs2gCW9It+akI2MM/mndMCy36UVfodzcJcF0GGLxZIzObiEfa"
        crossorigin="anonymous"></script>

    <script>
        var qrcode = new QRCode(document.getElementById("qrcode"), {
            correctLevel: QRCode.CorrectLevel.H,
            text: window.location.href,
            colorLight: "#ffffff",
            colorDark: "#000000"
        });

        function update(from, to) {
            document.getElementById(to).innerHTML = from.value;
            onValueChanged();
        }

        document.getElementById("random").click();
    </script>
</body>

</html>